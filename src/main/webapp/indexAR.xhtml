<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:p="http://primefaces.org/ui"
      xmlns:h="http://java.sun.com/jsf/html"
      xmlns:f="http://java.sun.com/jsf/core">
    <h:head>
        <title>World Events Tracker</title>
        <link rel="stylesheet" type="text/css" href="css/events.css"/>
    </h:head>
    <h:body>
    	<p:layout fullPage="true">
    	<p:ajax event="resize" listener="#{checkboxBean.handleResize}"/>
        <p:ajax event="toggle" listener="#{checkboxBean.handleToggle}"/>
        	
    	<p:layoutUnit id="top" position="north" size="50">

            <p:menubar>
                <p:submenu label="Display Type" icon="ui-icon-document">
                    <p:menuitem value="By Event" url="#" />
                    <p:menuitem value="By Server" url="indexServer.jsf" />
                </p:submenu>
            </p:menubar>
        </p:layoutUnit>
    	<p:layoutUnit position="center" header="Events" resizable="true" closable="false" collapsible="false">       
        <h:form id="form">
        	<p:poll interval="30"   
            	update="mawPanel, fireElePanel, wurmPanel, sbPanel, karkaPanel" 
            	widgetVar="poll" autoStart="true"/>
            	
            <p:poll interval="60"   
            	update="teqPanel, shatPanel, jorPanel, golemPanel, dredgePanel, harathiPanel, ogrePanel, hydraPanel, fireShamPanel" 
            	widgetVar="pollLong" autoStart="true"/>    
        
        	<p:dashboard id="board" model="#{dashboardBean.model}">
        		 <p:ajax event="reorder"/>
        		 <p:panel id="teqPanel" header="Tequatl" toggleable="true" collapsed="#{dashboardBean.teqCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleTeqToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.tequatlStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="shatPanel" header="Shatterer" toggleable="true" collapsed="#{dashboardBean.shatCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleShatToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.shattererStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="jorPanel" header="Jormag" toggleable="true" collapsed="#{dashboardBean.jormagCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleJormagToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.jormagStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="karkaPanel" header="Karka Queen" toggleable="true" collapsed="#{dashboardBean.karkaCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleKarkaToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.karkaStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="mawPanel" header="Maw" toggleable="true" collapsed="#{dashboardBean.mawCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleMawToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.mawStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="fireElePanel" header="Fire Elemental" toggleable="true" collapsed="#{dashboardBean.fireEleCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleFireEleToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.fireEleStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="wurmPanel" header="Jungle Wurm" toggleable="true" collapsed="#{dashboardBean.wurmCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleWurmToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.wurmStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="sbPanel" header="Shadow Behemoth" toggleable="true" collapsed="#{dashboardBean.sbCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleSBToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.sbStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="golemPanel" header="Golem" toggleable="true" collapsed="#{dashboardBean.golemCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleGolemToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.golemStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="dredgePanel" header="Dredge" toggleable="true" collapsed="#{dashboardBean.dredgeCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleDredgeToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.dredgeStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="harathiPanel" header="Kilava Chest" toggleable="true" collapsed="#{dashboardBean.harathiCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleHarathiToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.harathiStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="ogrePanel" header="Foulbear Kraal" toggleable="true" collapsed="#{dashboardBean.ogreCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleOgreToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.ogreStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="hydraPanel" header="Hydra Queen" toggleable="true" collapsed="#{dashboardBean.hydraCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleHydraToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.hydraStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        		 
        		 <p:panel id="fireShamPanel" header="Fire Shaman" toggleable="true" collapsed="#{dashboardBean.fireShamCollapsed}">
        		 	<p:ajax event="toggle" listener="#{dashboardBean.handleFireShamToggle}"/>
        		 	<p:dataTable var="status" value="#{dragonBean.fireShamStatus}" styleClass="hide-column-names">
        		 		<p:column>  
				            <h:outputText value="#{status.server}" />  
				        </p:column>  
				        <p:column>  
				            <h:outputText value="#{status.status}" escape="false"/>  
				        </p:column>
				        <p:column>  
				            <h:outputText value="#{status.date}" />  
				        </p:column>
        		 	</p:dataTable>
        		 </p:panel>
        	</p:dashboard>
        </h:form>
        </p:layoutUnit>
        <p:layoutUnit id="east" position="east" header="Checkboxes" size="#{checkboxBean.eastSize}" collapsed="#{checkboxBean.eastCollapsed}" resizable="true" closable="false" collapsible="true">
        	<h:form id="checkboxes">
        		<p:selectManyCheckbox value="#{checkboxBean.selectedEvents}"  
		            layout="pageDirection" id="smcb">  
		            <f:selectItems value="#{checkboxBean.events}" />
		            <p:ajax listener="#{checkboxBean.handleCheckbox}"/> 
		        </p:selectManyCheckbox>
		        <p:commandButton value="Clear All" update="smcb" id="ajax"  
             			actionListener="#{checkboxBean.clearAll}">
		        </p:commandButton>
        	</h:form>
        </p:layoutUnit>
        </p:layout>  
    </h:body>
</html>